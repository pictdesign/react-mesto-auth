{"version":3,"sources":["utils/api.js","images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/PopupProfile.js","components/PopupAvatar.js","components/PopupAddPlace.js","components/App.js","reportWebVitals.js","index.js"],"names":["url","cohort","token","this","_url","_cohort","_token","res","ok","json","Promise","reject","status","request","requestOptions","fetch","headers","authorization","then","_getResponseData","_fetch","name","about","method","body","JSON","stringify","link","avatar","cardId","isLiked","deleteLike","likeCard","Header","className","alt","src","logo","createContext","Card","card","onCardClick","onCardDelete","onCardLike","currentUser","useContext","CurrentUserContext","isOwn","owner","_id","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","onClick","type","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","map","Footer","Date","getFullYear","ImagePopup","onClose","PopupWithForm","props","popupClass","isOpen","onSubmit","title","children","submitText","PopupProfile","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","target","placeholder","required","minLength","maxLength","id","PopupAvatar","onUpdateAvatar","avatarRef","React","useRef","current","ref","PopupAddPlace","placeNameRef","placeLinkRef","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","all","api","getUserInfo","getInitialCards","userData","cardsData","catch","err","console","log","Provider","deleteCard","state","filter","c","changeLikeCardStatus","newCard","user","changeUserInfo","changeUserAvatar","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fe65811b.chunk.js","sourcesContent":["class Api {\r\n  constructor(url, cohort, token) {\r\n    this._url = url;\r\n    this._cohort = cohort;\r\n    this._token = token;\r\n  }\r\n\r\n  _getResponseData(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  _fetch(request, requestOptions) {\r\n    return fetch(this._url + this._cohort + request, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n      ...requestOptions,\r\n    }).then((res) => {\r\n      return this._getResponseData(res);\r\n    });\r\n  }\r\n\r\n  getUserInfo() {\r\n    return this._fetch(\"/users/me\");\r\n  }\r\n\r\n  changeUserInfo({ name, about }) {\r\n    return this._fetch(\"/users/me\", {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ name, about }),\r\n    });\r\n  }\r\n\r\n  addCard({ link, name }) {\r\n    return this._fetch(\"/cards\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ link, name }),\r\n    });\r\n  }\r\n\r\n  changeUserAvatar({ avatar }) {\r\n    return this._fetch(\"/users/me/avatar\", {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ avatar }),\r\n    });\r\n  }\r\n\r\n  getInitialCards() {\r\n    return this._fetch(\"/cards\");\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return this._fetch(`/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    });\r\n  }\r\n\r\n  likeCard(cardId) {\r\n    return this._fetch(`/cards/likes/${cardId}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    });\r\n  }\r\n\r\n  deleteLike(cardId) {\r\n    return this._fetch(`/cards/likes/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    });\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    if (isLiked) {\r\n      return this.deleteLike(cardId);\r\n    } else {\r\n      return this.likeCard(cardId);\r\n    }\r\n  }\r\n}\r\n\r\nexport default new Api(\r\n  \"https://mesto.nomoreparties.co/v1/\",\r\n  \"cohort-28\",\r\n  \"0e67701d-63ae-4a9e-9207-db93e93ce8e5\"\r\n);\r\n","export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";"," import React from \"react\";\r\n import logo from \"../images/logo.svg\";\r\n \r\n function Header() {\r\n   return (\r\n    <header className=\"header\">\r\n      <img className=\"logo\" alt=\"Логотип Место\" src={logo} />\r\n    </header>\r\n   )\r\n }\r\n\r\n export default Header;\r\n      \r\n      ","import { createContext } from \"react\";\r\n\r\nexport default createContext();","import { React, useContext } from \"react\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({ card, onCardClick, onCardDelete, onCardLike }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = `element__delete-button ${\r\n    isOwn ? \"element__delete-button_visible\" : \"\"\r\n  }`;\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = `element__like-button ${\r\n    isLiked ? \"element__like-button_active\" : \"\"\r\n  }`;\r\n\r\n  function handleCardClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <button\r\n        onClick={() => {\r\n          onCardDelete(card);\r\n        }}\r\n        className={cardDeleteButtonClassName}\r\n        type=\"button\"\r\n      ></button>\r\n      <img\r\n        src={card.link}\r\n        alt={card.name}\r\n        onClick={handleCardClick}\r\n        className=\"element__image\"\r\n      />\r\n      <div className=\"element__info\">\r\n        <h2 className=\"element__name\">{card.name}</h2>\r\n        <div className=\"element__like\">\r\n          <button\r\n            onClick={() => {\r\n              onCardLike(card);\r\n            }}\r\n            className={cardLikeButtonClassName}\r\n            type=\"button\"\r\n          ></button>\r\n          <p className=\"element__like-count\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React, { useContext } from \"react\";\r\nimport Card from \"./Card\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main({\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onEditAvatar,\r\n  cards,\r\n  onCardClick,\r\n  onCardDelete,\r\n  onCardLike,\r\n}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div onClick={onEditAvatar} className=\"profile__image-container\">\r\n          <img\r\n            src={currentUser.avatar}\r\n            alt={currentUser.name}\r\n            className=\"profile__image\"\r\n          />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <button\r\n            onClick={onEditProfile}\r\n            className=\"profile__edit-button\"\r\n            type=\"button\"\r\n            aria-label=\"Edit\"\r\n          ></button>\r\n          <p className=\"profile__status\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          onClick={onAddPlace}\r\n          className=\"profile__add-button\"\r\n          type=\"button\"\r\n        ></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n          {cards.map((card) => {\r\n            return (\r\n              <Card\r\n                key={card._id}\r\n                card={card}\r\n                onCardClick={onCardClick}\r\n                onCardDelete={onCardDelete}\r\n                onCardLike={onCardLike}\r\n              />\r\n            );\r\n          })}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__info\">\r\n        &#169; {new Date().getFullYear()} Stas Vokhmyanin\r\n      </p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nfunction ImagePopup({card, onClose}) {\r\n return(\r\n  <div className={`popup ${card.link ? \"popup_opened\" : \"\"}`} name=\"preview-image\">\r\n    {card && (\r\n      <div className=\"popup__container popup__container_size_m\">\r\n        <button onClick={onClose} className=\"popup__close-button\" type=\"button\"></button>\r\n        <img src={card.link} alt={card.name} className=\"popup__image\" />\r\n        <h3 className=\"popup__element-title\">{card.name}</h3>\r\n      </div>\r\n    )}\r\n  </div>\r\n )\r\n}\r\n\r\nexport default ImagePopup;","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n  const popupClass = `popup_type_${props.name} ${\r\n    props.isOpen ? \"popup_opened\" : \"\"\r\n  }`;\r\n\r\n  return (\r\n    <div className={`popup ${popupClass}`}>\r\n      <div className=\"popup__container\">\r\n        <button\r\n          className=\"popup__close-button\"\r\n          type=\"button\"\r\n          data-btn=\"close\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <form\r\n          onSubmit={props.onSubmit}\r\n          className=\"popup__form\"\r\n          name={props.name}\r\n        >\r\n          <h2 className=\"popup__title\">{props.title}</h2>\r\n          <fieldset className=\"popup__input-container\">\r\n            {props.children}\r\n          </fieldset>\r\n          <button className=\"popup__submit-button\" type=\"submit\">\r\n            {props.submitText}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction PopupProfile({ isOpen, onClose, onUpdateUser }) {\r\n  const [name, setName] = useState();\r\n  const [description, setDescription] = useState();\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, isOpen]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      title=\"Редактировать профиль\"\r\n      submitText=\"Сохранить\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <>\r\n        <label className=\"popup__field\">\r\n          <input\r\n            value={name || \"\"}\r\n            onChange={handleNameChange}\r\n            className=\"popup__input\"\r\n            type=\"text\"\r\n            placeholder=\"Имя\"\r\n            name=\"profile_name\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"40\"\r\n          />\r\n          <span className=\"popup__input-error\" id=\"profile_name-error\"></span>\r\n        </label>\r\n        <label className=\"popup__field\">\r\n          <input\r\n            value={description || \"\"}\r\n            onChange={handleDescriptionChange}\r\n            className=\"popup__input\"\r\n            type=\"text\"\r\n            placeholder=\"Профессиональная деятельность\"\r\n            name=\"profile_status\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"200\"\r\n          />\r\n          <span className=\"popup__input-error\" id=\"profile_status-error\"></span>\r\n        </label>\r\n      </>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default PopupProfile;\r\n","import React, { useEffect } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction PopupAvatar({ isOpen, onClose, onUpdateAvatar }) {\r\n  const avatarRef = React.useRef(0);\r\n\r\n  useEffect(() => {\r\n    avatarRef.current.value = \"\";\r\n  }, [isOpen]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      title=\"Обновить аватар\"\r\n      submitText=\"Сохранить\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <>\r\n        <label className=\"popup__field\">\r\n          <input\r\n            ref={avatarRef}\r\n            className=\"popup__input\"\r\n            type=\"url\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            name=\"change_link\"\r\n            required\r\n          />\r\n          <span className=\"popup__input-error\" id=\"change_link-error\"></span>\r\n        </label>\r\n      </>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default PopupAvatar;\r\n","import React, { useEffect } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction PopupAddPlace({ isOpen, onClose, onAddPlace }) {\r\n  const placeNameRef = React.useRef(0);\r\n  const placeLinkRef = React.useRef(0);\r\n\r\n  useEffect(() => {\r\n    placeNameRef.current.value = \"\";\r\n    placeLinkRef.current.value = \"\";\r\n  }, [isOpen]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({\r\n      link: placeLinkRef.current.value,\r\n      name: placeNameRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"image\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      title=\"Новое место\"\r\n      submitText=\"Создать\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <>\r\n        <label className=\"popup__field\">\r\n          <input\r\n            ref={placeNameRef}\r\n            className=\"popup__input\"\r\n            type=\"text\"\r\n            placeholder=\"Название\"\r\n            name=\"image_name\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"30 \"\r\n          />\r\n          <span className=\"popup__input-error\" id=\"image_name-error\"></span>\r\n        </label>\r\n        <label className=\"popup__field\">\r\n          <input\r\n            ref={placeLinkRef}\r\n            className=\"popup__input\"\r\n            type=\"url\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            name=\"image_link\"\r\n            required\r\n          />\r\n          <span className=\"popup__input-error\" id=\"image_link-error\"></span>\r\n        </label>\r\n      </>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default PopupAddPlace;\r\n","import React, { useState, useEffect } from \"react\";\nimport api from \"../utils/api\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport PopupProfile from \"./PopupProfile\";\nimport PopupAvatar from \"./PopupAvatar\";\nimport PopupAddPlace from \"./PopupAddPlace\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({ name: \"\", link: \"\" });\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  };\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  };\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  };\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard({ name: \"\", link: \"\" });\n  };\n\n  useEffect(() => {\n    Promise.all([\n      api.getUserInfo(), \n      api.getInitialCards()\n      ])\n      .then(([userData, cardsData]) => {\n        setCurrentUser(userData);\n        setCards(cardsData);\n      })\n      .catch((err) => {\n        console.log(err);\n    });\n  }, []);\n  \n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateUser(user) {\n    api\n      .changeUserInfo(user)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar(avatar) {\n    api\n      .changeUserAvatar(avatar)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddPlaceSubmit(card) {\n    api\n      .addCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          cards={cards}\n          onCardClick={handleCardClick}\n          onCardDelete={handleCardDelete}\n          onCardLike={handleCardLike}\n        />\n        <Footer />\n        <PopupProfile\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <PopupAvatar\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <PopupAddPlace\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}